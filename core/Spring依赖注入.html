<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>依赖注入 | SPRING-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/spring-tutorial/favicon.ico">
    <meta name="description" content="Spring 教程">
    
    <link rel="preload" href="/spring-tutorial/assets/css/0.styles.53544d52.css" as="style"><link rel="preload" href="/spring-tutorial/assets/js/app.7ecaa4c8.js" as="script"><link rel="preload" href="/spring-tutorial/assets/js/4.72217794.js" as="script"><link rel="preload" href="/spring-tutorial/assets/js/13.446e0b50.js" as="script"><link rel="preload" href="/spring-tutorial/assets/js/5.f880ae76.js" as="script"><link rel="prefetch" href="/spring-tutorial/assets/js/10.2feebefe.js"><link rel="prefetch" href="/spring-tutorial/assets/js/11.4d649f36.js"><link rel="prefetch" href="/spring-tutorial/assets/js/12.2b1c842e.js"><link rel="prefetch" href="/spring-tutorial/assets/js/14.ebb36c57.js"><link rel="prefetch" href="/spring-tutorial/assets/js/15.00ed25b9.js"><link rel="prefetch" href="/spring-tutorial/assets/js/16.26229a43.js"><link rel="prefetch" href="/spring-tutorial/assets/js/17.174e10b2.js"><link rel="prefetch" href="/spring-tutorial/assets/js/18.f0614be4.js"><link rel="prefetch" href="/spring-tutorial/assets/js/19.84f49bf6.js"><link rel="prefetch" href="/spring-tutorial/assets/js/20.fb1b13a6.js"><link rel="prefetch" href="/spring-tutorial/assets/js/21.cbeb3d27.js"><link rel="prefetch" href="/spring-tutorial/assets/js/22.f10169d4.js"><link rel="prefetch" href="/spring-tutorial/assets/js/23.ec15dc03.js"><link rel="prefetch" href="/spring-tutorial/assets/js/24.e6b3e261.js"><link rel="prefetch" href="/spring-tutorial/assets/js/25.6be62869.js"><link rel="prefetch" href="/spring-tutorial/assets/js/26.618d9024.js"><link rel="prefetch" href="/spring-tutorial/assets/js/27.45a8d239.js"><link rel="prefetch" href="/spring-tutorial/assets/js/28.134a45ad.js"><link rel="prefetch" href="/spring-tutorial/assets/js/29.9f50307c.js"><link rel="prefetch" href="/spring-tutorial/assets/js/30.7cc7cc6b.js"><link rel="prefetch" href="/spring-tutorial/assets/js/31.22defb84.js"><link rel="prefetch" href="/spring-tutorial/assets/js/32.1b14d61a.js"><link rel="prefetch" href="/spring-tutorial/assets/js/33.898e87ab.js"><link rel="prefetch" href="/spring-tutorial/assets/js/34.a3420481.js"><link rel="prefetch" href="/spring-tutorial/assets/js/6.420cc174.js"><link rel="prefetch" href="/spring-tutorial/assets/js/7.046e5a1b.js"><link rel="prefetch" href="/spring-tutorial/assets/js/8.77fb8967.js"><link rel="prefetch" href="/spring-tutorial/assets/js/9.ebfa537e.js"><link rel="prefetch" href="/spring-tutorial/assets/js/vendors~flowchart.20a64d45.js"><link rel="prefetch" href="/spring-tutorial/assets/js/vendors~notification.ea176280.js">
    <link rel="stylesheet" href="/spring-tutorial/assets/css/0.styles.53544d52.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/spring-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="SPRING-TUTORIAL" class="logo"> <span class="site-name can-hide">SPRING-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/spring-tutorial/summary/" class="nav-link">
  综合
</a></div><div class="nav-item"><a href="/spring-tutorial/core/" class="nav-link router-link-active">
  核心
</a></div><div class="nav-item"><a href="/spring-tutorial/data/" class="nav-link">
  数据
</a></div><div class="nav-item"><a href="/spring-tutorial/integration/" class="nav-link">
  集成
</a></div><div class="nav-item"><a href="/spring-tutorial/web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/spring-tutorial/others/" class="nav-link">
  其他
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/spring-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/spring-tutorial/summary/" class="nav-link">
  综合
</a></div><div class="nav-item"><a href="/spring-tutorial/core/" class="nav-link router-link-active">
  核心
</a></div><div class="nav-item"><a href="/spring-tutorial/data/" class="nav-link">
  数据
</a></div><div class="nav-item"><a href="/spring-tutorial/integration/" class="nav-link">
  集成
</a></div><div class="nav-item"><a href="/spring-tutorial/web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/spring-tutorial/others/" class="nav-link">
  其他
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/spring-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>依赖注入</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#一、依赖注入模式和类型" class="sidebar-link">一、依赖注入模式和类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#依赖注入模式" class="sidebar-link">依赖注入模式</a></li><li class="sidebar-sub-header"><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#依赖注入类型" class="sidebar-link">依赖注入类型</a></li></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#自动绑定" class="sidebar-link">自动绑定</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#二、被注入的数据类型" class="sidebar-link">二、被注入的数据类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#三、依赖注入辅助功能" class="sidebar-link">三、依赖注入辅助功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#限定注入" class="sidebar-link">限定注入</a></li><li class="sidebar-sub-header"><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#延迟依赖注入" class="sidebar-link">延迟依赖注入</a></li></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#四、-autowired-和-inject" class="sidebar-link">四、@Autowired 和 @Inject</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#autowired-注入" class="sidebar-link">@Autowired 注入</a></li><li class="sidebar-sub-header"><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#inject-注入" class="sidebar-link">@Inject 注入</a></li></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#四、依赖处理过程" class="sidebar-link">四、依赖处理过程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#java-通用注解注入原理" class="sidebar-link">Java 通用注解注入原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#自定义依赖注入注解" class="sidebar-link">自定义依赖注入注解</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="依赖注入"><a href="#依赖注入" class="header-anchor">#</a> 依赖注入</h1> <h2 id="一、依赖注入模式和类型"><a href="#一、依赖注入模式和类型" class="header-anchor">#</a> 一、依赖注入模式和类型</h2> <h3 id="依赖注入模式"><a href="#依赖注入模式" class="header-anchor">#</a> 依赖注入模式</h3> <p>依赖注入模式可以分为手动模式和自动模式</p> <h4 id="手动注入"><a href="#手动注入" class="header-anchor">#</a> 手动注入</h4> <p>配置或者编程的方式，提前安排注入规则</p> <ul><li>XML 资源配置元信息</li> <li>Java 注解配置元信息</li> <li>API 配置元信息</li></ul> <h4 id="自动注入"><a href="#自动注入" class="header-anchor">#</a> 自动注入</h4> <p>实现方提供依赖自动关联的方式，按照內建的注入规则（官方不推荐）</p> <ul><li>Autowiring（自动绑定）</li></ul> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>no</td> <td>默认值，未激活 Autowiring，需要手动指定依赖注入对象。</td></tr> <tr><td>byName</td> <td>根据被注入属性的名称作为 Bean 名称进行依赖查找，并将对象设置到该属性。</td></tr> <tr><td>byType</td> <td>根据被注入属性的类型作为依赖类型进行查找，并将对象设置到该属性。</td></tr> <tr><td>constructor</td> <td>特殊 byType 类型，用于构造器参数。</td></tr></tbody></table> <blockquote><p>限制和不足参考：<a href="https://docs.spring.io/spring/docs/5.2.2.RELEASE/spring-frameworkreference/core.html#beans-autowired-exceptions" target="_blank" rel="noopener noreferrer">Limitations and Disadvantages of Autowiring 小节<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="依赖注入类型"><a href="#依赖注入类型" class="header-anchor">#</a> 依赖注入类型</h3> <table><thead><tr><th>依赖注入类型</th> <th>配置元数据举例</th></tr></thead> <tbody><tr><td>Setter 方法</td> <td><code>&lt;proeprty name=&quot;user&quot; ref=&quot;userBean&quot;/&gt;</code></td></tr> <tr><td>构造器</td> <td><code>&lt;constructor-arg name=&quot;user&quot; ref=&quot;userBean&quot; /&gt;</code></td></tr> <tr><td>字段</td> <td><code>@Autowired User user;</code></td></tr> <tr><td>方法</td> <td><code>@Autowired public void user(User user) { ... }</code></td></tr> <tr><td>接口回调</td> <td><code>class MyBean implements BeanFactoryAware { ... }</code></td></tr></tbody></table> <h4 id="setter-方法注入"><a href="#setter-方法注入" class="header-anchor">#</a> Setter 方法注入</h4> <p>手动模式</p> <ul><li>XML 资源配置元信息</li> <li>Java 注解配置元信息</li> <li>API 配置元信息</li></ul> <p>自动模式</p> <ul><li>byName</li> <li>byType</li></ul> <h4 id="构造器注入"><a href="#构造器注入" class="header-anchor">#</a> 构造器注入</h4> <p>手动模式</p> <ul><li>XML 资源配置元信息</li> <li>Java 注解配置元信息</li> <li>API 配置元信息</li></ul> <p>自动模式</p> <ul><li>constructor</li></ul> <h4 id="字段注入"><a href="#字段注入" class="header-anchor">#</a> 字段注入</h4> <p>手动模式（Java 注解配置元信息）</p> <ul><li><code>@Autowired</code></li> <li><code>@Resource</code></li> <li><code>@Inject</code>（可选）</li></ul> <h4 id="方法注入"><a href="#方法注入" class="header-anchor">#</a> 方法注入</h4> <p>手动模式（Java 注解配置元信息）</p> <ul><li><code>@Autowired</code></li> <li><code>@Resource</code></li> <li><code>@Inject</code>（可选）</li> <li><code>@Bean</code></li></ul> <h4 id="接口回调注入"><a href="#接口回调注入" class="header-anchor">#</a> 接口回调注入</h4> <p>Aware 系列接口回调</p> <table><thead><tr><th>內建接口</th> <th>说明</th></tr></thead> <tbody><tr><td><code>BeanFactoryAware</code></td> <td>获取 IoC 容器- <code>BeanFactory</code></td></tr> <tr><td><code>ApplicationContextAware</code></td> <td>获取 Spring 应用上下文- <code>ApplicationContext</code> 对象</td></tr> <tr><td><code>EnvironmentAware</code></td> <td>获取 <code>Environment</code> 对象</td></tr> <tr><td><code>ResourceLoaderAware</code></td> <td>获取资源加载器对象- <code>ResourceLoader</code></td></tr> <tr><td><code>BeanClassLoaderAware</code></td> <td>获取加载当前 Bean Class 的 <code>ClassLoader</code></td></tr> <tr><td><code>BeanNameAware</code></td> <td>获取当前 Bean 的名称</td></tr> <tr><td><code>MessageSourceAware</code></td> <td>获取 <code>MessageSource</code> 对象，用于 Spring 国际化</td></tr> <tr><td><code>ApplicationEventPublisherAware</code></td> <td>获取 <code>ApplicationEventPublishAware</code> 对象，用于 Spring 事件</td></tr> <tr><td><code>EmbeddedValueResolverAware</code></td> <td>获取 <code>StringValueResolver</code> 对象，用于占位符处理</td></tr></tbody></table> <h4 id="依赖注入类型选择"><a href="#依赖注入类型选择" class="header-anchor">#</a> 依赖注入类型选择</h4> <ul><li>低依赖：构造器注入</li> <li>多依赖：Setter 方法注入</li> <li>便利性：字段注入</li> <li>声明类：方法注入</li></ul> <h2 id="自动绑定"><a href="#自动绑定" class="header-anchor">#</a> 自动绑定</h2> <h2 id="二、被注入的数据类型"><a href="#二、被注入的数据类型" class="header-anchor">#</a> 二、被注入的数据类型</h2> <p>基础类型</p> <ul><li>原生类型（Primitive）：boolean、byte、char、short、int、float、long、double</li> <li>标量类型（Scalar）：Number、Character、Boolean、Enum、Locale、Charset、Currency、Properties、UUID</li> <li>常规类型（General）：Object、String、TimeZone、Calendar、Optional 等</li> <li>Spring 类型：Resource、InputSource、Formatter 等</li></ul> <p>集合类型</p> <ul><li>数组类型（Array）：原生类型、标量类型、常规类型、Spring 类型</li> <li>集合类型（Collection）
<ul><li>Collection：List、Set（SortedSet、NavigableSet、EnumSet）</li> <li>Map：Properties</li></ul></li></ul> <h2 id="三、依赖注入辅助功能"><a href="#三、依赖注入辅助功能" class="header-anchor">#</a> 三、依赖注入辅助功能</h2> <h3 id="限定注入"><a href="#限定注入" class="header-anchor">#</a> 限定注入</h3> <p>使用注解@Qualifier 限定</p> <ul><li>通过 Bean 名称限定</li> <li>通过分组限定</li></ul> <p>基于注解@Qualifier 扩展限定</p> <ul><li>自定义注解- 如 Spring Cloud @LoadBalanced</li></ul> <h3 id="延迟依赖注入"><a href="#延迟依赖注入" class="header-anchor">#</a> 延迟依赖注入</h3> <p>使用 API ObjectFactory 延迟注入</p> <ul><li>单一类型</li> <li>集合类型</li></ul> <p>使用 API ObjectProvider 延迟注入（推荐）</p> <ul><li>单一类型</li> <li>集合类型</li></ul> <h2 id="四、-autowired-和-inject"><a href="#四、-autowired-和-inject" class="header-anchor">#</a> 四、@Autowired 和 @Inject</h2> <h3 id="autowired-注入"><a href="#autowired-注入" class="header-anchor">#</a> @Autowired 注入</h3> <p>@Autowired 注入过程</p> <ul><li>元信息解析</li> <li>依赖查找</li> <li>依赖注入（字段、方法）</li></ul> <h3 id="inject-注入"><a href="#inject-注入" class="header-anchor">#</a> @Inject 注入</h3> <p>@Inject 注入过程</p> <p>如果 JSR-330 存在于 ClassPath 中，复用 AutowiredAnnotationBeanPostProcessor 实现</p> <h2 id="四、依赖处理过程"><a href="#四、依赖处理过程" class="header-anchor">#</a> 四、依赖处理过程</h2> <ul><li>入口- DefaultListableBeanFactory#resolveDependency</li> <li>依赖描述符- DependencyDescriptor</li> <li>自定绑定候选对象处理器- AutowireCandidateResolver</li></ul> <h2 id="java-通用注解注入原理"><a href="#java-通用注解注入原理" class="header-anchor">#</a> Java 通用注解注入原理</h2> <p>CommonAnnotationBeanPostProcessor</p> <p>注入注解</p> <ul><li>javax.xml.ws.WebServiceRef</li> <li>javax.ejb.EJB</li> <li>javax.annotation.Resource</li></ul> <p>生命周期注解</p> <ul><li>javax.annotation.PostConstruct</li> <li>javax.annotation.PreDestroy</li></ul> <h2 id="自定义依赖注入注解"><a href="#自定义依赖注入注解" class="header-anchor">#</a> 自定义依赖注入注解</h2> <p>基于 AutowiredAnnotationBeanPostProcessor 实现</p> <p>生命周期处理</p> <ul><li>InstantiationAwareBeanPostProcessor</li> <li>MergedBeanDefinitionPostProcessor</li></ul> <p>元数据</p> <ul><li>InjectedElement</li> <li>InjectionMetadata</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/spring-tutorial/edit/master/docs/core/Spring依赖注入.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8 months ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/spring-tutorial/assets/js/app.7ecaa4c8.js" defer></script><script src="/spring-tutorial/assets/js/4.72217794.js" defer></script><script src="/spring-tutorial/assets/js/13.446e0b50.js" defer></script><script src="/spring-tutorial/assets/js/5.f880ae76.js" defer></script>
  </body>
</html>
